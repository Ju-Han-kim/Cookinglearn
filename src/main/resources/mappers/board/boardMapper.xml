<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.co.cookinglearn.board.mappers.board">
	<!-- id : 변수명 , type := DTO 경로 -->
	<resultMap type="kr.co.cookinglearn.board.domain.BoardVO" id="board">
		<id property="classCode" column="class_code"/>
		<result property="classType" column="class_type"/>
		<result property="classCategory" column="class_category"/>
		<result property="thumbnailImg" column="thumbnail_img"/>
		<result property="className" column="class_name"/>
		<result property="classContent" column="class_content"/>
		<result property="runTime" column="run_time"/>
		<result property="startDate" column="start_date"/>
		<result property="contentImg" column="content_img"/>
		<result property="classUrl" column="class_url"/>
		<result property="price" column="price"/>
		<result property="maxStudent" column="max_student"/>
	</resultMap>
	<!-- 조회 -->
	<select id="list" resultMap="board">
		SELECT
		    class_code,
			class_type,
			class_category,
			thumbnail_img,
			class_name,
			class_content,
			run_time,
			start_date,
			content_img,
			class_url,
			price,
			max_student
		FROM
		    class
	</select>
	<!-- 게시물 조회 -->
	<select id="kategorie" resultMap="board">
		SELECT
		    class_code,
		    class_type,
		    class_category,
		    thumbnail_img,
		    class_name,
		    class_url,
		    price
		FROM
		    class
		WHERE
			class_category=#{class_category} AND class_type=1
	</select>

	<!-- 상세보기 조회 -->
	<select id="detail" resultMap="board">
		SELECT
		    class_code,
			class_type,
			class_category,
			thumbnail_img,
			class_name,
			class_content,
			run_time,
			start_date,
			content_img,
			class_url,
			price,
			max_student
		FROM
		    "CLASS"
		WHERE
			class_code = #{class_code} AND class_type=1
	</select>
</mapper>

<!-- 
class_code,
class_type,
class_category,
thumbnail_img,
class_name,
class_content,
run_time,
start_date,
content_img,
class_url,
price,
max_student
 -->