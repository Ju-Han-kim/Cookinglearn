<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="kr.co.cookinglearn.admin.repository.IDashBoardMapper">

	<resultMap id="dashBoardMap" type="kr.co.cookinglearn.admin.model.process.DashBoardProcessVO">
		<id property="classType" column="class_type"/>
		<result property="orderProcess" column="order_process"/>
		<result property="count" column="count"/>
	</resultMap>
	
	<select id="classOrderCount" resultMap="dashBoardMap">
		SELECT class_type, order_process, COUNT(*) AS count
		FROM "ORDER" JOIN "CLASS" USING(class_code)
		WHERE payment_date LIKE #{today}||'%'
		GROUP BY class_type, order_process
	</select>
	
	
	
	



</mapper>